---
import BaseLayout from '../layouts/BaseLayout.astro';
import { loadGPTs } from '../lib/content';
import GPTCard from '../components/GPTCard.astro';

const gpts = await loadGPTs();
---
<BaseLayout title="Lean Agents | Oscar Sanchez" description="Lean agents directory for practical AI workflows and execution support.">
  <section class="hero-shell scene-shell scene-accent command-shell gpts-hero" style="--scene-accent: var(--cog-blue);">
    <p class="hero-eyebrow">Lean Agents directory</p>
    <h1>Find the right lean agent fast</h1>
    <p class="text-small deck-subtitle">
      Choose an agent, open it, and start execution. Full methods and proof notes live on each agent detail page.
    </p>
    <div class="cta-stack gpts-actions">
      <a class="button button--primary" href="#gpt-grid">Browse agents</a>
      <a class="button" href="/book">Book a session</a>
    </div>
  </section>

  <section class="scene-shell section" aria-labelledby="gpts-grid-heading">
    <h2 id="gpts-grid-heading" class="text-small">Available Lean Agents</h2>
    <div id="gpt-grid" class="gpts-grid">
      {gpts.map((gpt, idx) => (
        <GPTCard gpt={gpt} revealDelayMs={idx * 58} />
      ))}
    </div>
  </section>

  <section class="panel-shell section gpts-cta-strip">
    <p class="text-small">Need learning paths, workshops, and contribution opportunities?</p>
    <div class="cta-stack">
      <a class="button" href="/more">Open more</a>
      <a class="button" href="/resume">View resume</a>
    </div>
  </section>
</BaseLayout>
