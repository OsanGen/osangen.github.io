---
const navItems = [
  { label: 'OSAN GAMES', href: '/labs' },
  { label: 'Modules', href: '/visual-classes' },
  { label: 'Workshops', href: '/workshops' },
  { label: 'Contribute', href: '/join' },
  { label: 'Resume', href: '/resume' },
];
const ctaHref = 'https://calendly.com/abellou/30min';
const currentPath = Astro.url.pathname.replace(/\/$/, '') || '/';
---
<header class="site-header">
  <div class="container header-inner">
    <a class="brand brand-lockup" href="/">
      <img
        class="brand-mark"
        src="/icons/oscar-cog-brain.svg"
        alt=""
        loading="lazy"
        width="18"
        height="18"
        aria-hidden="true"
      />
      <span class="brand-name">Oscar Sanchez</span>
    </a>
    <div class="header-right">
      <nav class="site-nav" aria-label="Primary">
        {navItems.map((item) => {
          const isCurrent = item.href === '/'
            ? currentPath === '/'
            : currentPath.startsWith(item.href);
          return (
            <a href={item.href} class="nav-link" aria-current={isCurrent ? 'page' : undefined}>
              {item.label}
            </a>
          );
        })}
      </nav>
      <a
        class="button button--primary nav-cta"
        href={ctaHref}
        target="_blank"
        rel="noopener noreferrer"
      >
        Book
      </a>
    </div>
  </div>
</header>
