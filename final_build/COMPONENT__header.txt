# Component Spec: `src/components/Header.astro`

## Purpose
Primary site nav with explicit learn-surface discoverability and a prominent Book CTA as a button.

## Inputs / Outputs
- Inputs: current pathname from `Astro.url.pathname`.
- Output: Header with explicit nav links for `OSAN GAMES`, `Modules`, `Workshops`, `Contribute`, and `Resume` plus a right-side `Book` button, and a single logo lockup image sourced from `/icons/osan-logo-v2.png` (with 2x variant in `srcset`) in the brand link.

## State
- Stateless, path-based current-item highlighting.

## Edge Cases
- Root path normalization (`/` vs `/foo/`).
- External Calendly CTA always opens a new tab safely.
- Discoverability for learn routes is explicit with separate `Modules` and `Workshops` links.
- Header brand mark should remain lightweight: no decorative square border/background to preserve 2D, low-noise OSAN lockup appearance.

## Dependencies
- `header` styles in `src/styles/global.css`.
- `src/lib/site-nav.ts` (`PRIMARY_NAV_ITEMS`, `isNavItemCurrent`) as the single source for top-tab nav entries and active-route matching.

## Acceptance Checks
- Header includes explicit `Modules` and `Workshops` links.
- Existing active state and CTA behavior remain intact.
- Header active state relies on shared exact-or-subpath matching, not inline prefix checks.
- Book action is button-like on the right and not a nav link.
- `src/components/Header.astro` renders a single image lockup in the brand link (no side-by-side text mark + wordmark), with `alt="OSAN"`, explicit intrinsic dimensions (`width="176"` and `height="41"`), and versioned logo URLs for cache freshness.
- Logo fallback handling is bound via inline script event listener (`error`) instead of attribute-string `onerror`, preserving behavior while removing static-analysis noise from template attributes.
- Logo lockup sizing is tuned for readable presentation via width-driven clamps (`clamp(8.8rem, 21vw, 11rem)` desktop, `clamp(7.6rem, 33vw, 8.6rem)` mobile), explicit minimum width, no `max-width` clipping, aspect ratio control, and a dedicated fallback variant class to prevent tiny rendering on decode/load failure.
- Logo lockup uses no rounded square/frame treatment; visual appears as a low-noise 2D image asset only.
