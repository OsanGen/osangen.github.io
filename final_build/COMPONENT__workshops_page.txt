# Component/page: `src/pages/workshops.astro`

Purpose:
- Render Learn index with explicit Workshop taxonomy buckets:
  - Core workshops section (2 canonical workshop detail routes).
  - Visual classes section (module visual classes + non-core workshop-derived visual classes).
- Keep output concise with stable CTA behavior and no broken detail route assumptions.

Inputs:
- `loadModules()` and `loadWorkshops()` from `src/lib/content.ts`.
- `loadLastModifiedISO('workshops.json')`.
- Helper splitting logic from `src/lib/workshop-catalog.ts`.

Outputs:
- Intro with last-updated date.
- `Visual classes` section with module-based cards and visual-class workshop cards.
- `Workshops` section with cards only for canonical workshop IDs.

State:
- No client-side state.
- Build-time derivations:
  - `splitWorkshops(workshops)` for canonical vs visual-class workshops.
  - `visualClassModules` from modules with `visualClass` and not blocked by catalog policy.

Edge cases:
- Missing dates/labels fall back to safe route text and/or `/workshops` cta.
- Duplicate or empty workshop/module fields do not crash card rendering.
- Module helper blocks display for configured non-visual-class modules.

Dependencies:
- `Card`, `CardGrid`, `TagList`.
- `src/lib/workshop-catalog.ts`, `src/lib/link-utils.ts`, `src/lib/content.ts`.

Acceptance checks:
- Only core workshop detail links are generated from `coreWorkshops`.
- Non-core workshops appear under `Visual classes` and do not require `/workshops/{id}` deep links.
- `Beautiful Code Theory: Loops, Roles, and Proof Packs` is not rendered in visual-class output.
